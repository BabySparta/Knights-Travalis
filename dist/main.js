(()=>{"use strict";const e=new Map,t=(c,s)=>{const n=c,o=s;let a;const r=[[1,2],[1,-2],[2,1],[2,-1],[-1,2],[-1,-2],[-2,1],[-2,-1]],d=()=>a,l=e=>{a=a||e},i=()=>r.map((e=>u(e[0],e[1]))).filter((e=>void 0!==e)),u=(e,c)=>{const[s,a]=[n+e,o+c];if(0<=s<8&&0<=a<8)return t(s,a)},m=()=>`[${c}, ${s}]`;if(e.has(m()))return e.get(m());{let t={name:m,getPredecessor:d,setPredecessor:l,getMoves:i};return e.set(m(),t),t}},c=(e,t)=>{const c=document.querySelector(".place"),s=document.querySelector(".end");if(c.classList.contains("active")||"knight"===t){const t=document.querySelector(".placedKnight");t&&(t.parentElement.textContent=""),e.textContent="";const c=document.createElement("img");c.classList.add("placedIcon"),c.classList.add("placedKnight"),c.src="./resources/knight.svg",e.appendChild(c)}if(s.classList.contains("active")||"end"===t){const t=document.querySelector(".placedEnd");t&&(t.parentElement.textContent=""),e.textContent="";const c=document.createElement("img");c.classList.add("placedIcon"),c.classList.add("placedEnd"),c.src="./resources/rook.png",e.appendChild(c)}},s=()=>{const e=document.querySelector(".place"),t=document.querySelector(".end");e.classList.remove("active"),t.classList.remove("active")},n=(e,c)=>{const s=e.parentElement,n=c.parentElement;((e,c)=>{const s=t(...e),n=t(...c),o=[s];for(;!o.includes(n);){const e=o.shift(),t=e.getMoves();t.forEach((t=>t.setPredecessor(e))),o.push(...t)}const a=[n];for(;!a.includes(s);){const e=a[0].getPredecessor();a.unshift(e)}console.log(`The shortest path is ${a.length-1} moves!`),console.log("The moves are:"),a.forEach((e=>{console.log(e.name())}))})([parseInt(s.dataset.x),parseInt(s.dataset.y)],[parseInt(n.dataset.x),parseInt(n.dataset.y)])};!function(){const e=document.querySelector(".board");for(let t=0;t<8;t++){let c=document.createElement("div");for(let e=0;e<8;e++){let s=document.createElement("div");t%2==0?e%2==0?s.classList.add("white"):s.classList.add("black"):e%2==0?s.classList.add("black"):s.classList.add("white"),s.dataset.originalColor=s.classList,s.classList.add("cell"),s.dataset.row=t,s.dataset.column=e,s.dataset.x=e,s.dataset.y=7-t,c.appendChild(s)}c.classList.add("row"),e.appendChild(c)}}(),(()=>{const e=document.querySelector(".place"),t=document.querySelector(".end"),o=document.querySelector(".placeR"),a=document.querySelector(".endR"),r=document.querySelector(".go"),d=document.querySelector(".reset");e.addEventListener("click",(()=>{e.classList.remove("active"),t.classList.remove("active"),e.classList.add("active")})),t.addEventListener("click",(()=>{e.classList.remove("active"),t.classList.remove("active"),t.classList.add("active")})),o.addEventListener("click",(()=>{const e=Math.floor(8*Math.random()),t=Math.floor(8*Math.random()),s=document.querySelector(".board").children.item(e).children.item(t);c(s,"knight")})),a.addEventListener("click",(()=>{const e=Math.floor(8*Math.random()),t=Math.floor(8*Math.random()),s=document.querySelector(".board").children.item(e).children.item(t);s.firstChild||c(s,"end")})),r.addEventListener("click",(()=>{const e=document.querySelector(".placedKnight"),t=document.querySelector(".placedEnd"),c=document.querySelector(".info");e&&t?(c.textContent="",n(e,t)):c.textContent="Please place both a knight and a castle."})),d.addEventListener("click",(()=>{s(),document.querySelectorAll(".cell").forEach((e=>{e.textContent=""}))}))})(),document.querySelectorAll(".cell").forEach((e=>{e.addEventListener("mouseenter",(()=>{e.firstChild||(e=>{const t=document.querySelector(".place"),c=document.querySelector(".end");if(t.classList.contains("active")){const t=document.createElement("img");t.classList.add("hoverIcon"),t.src="./resources/knight.svg",e.appendChild(t)}if(c.classList.contains("active")){const t=document.createElement("img");t.classList.add("hoverIcon"),t.src="./resources/rook.png",e.appendChild(t)}})(e)})),e.addEventListener("mouseleave",(()=>{e.firstChild&&e.firstChild.classList.contains("placedIcon")||(e.textContent="")})),e.addEventListener("click",(()=>{c(e)}))}))})();